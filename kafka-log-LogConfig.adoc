== [[LogConfig]] LogConfig

`LogConfig` is a Apache Kafka https://kafka.apache.org/24/javadoc/org/apache/kafka/common/config/AbstractConfig.html[AbstractConfig] for the <<properties, configuration properties>> of a...FIXME

[[properties]]
.LogConfig's Configuration Properties
[cols="30m,70",options="header",width="100%"]
|===
| Name
| Description

| CleanupPolicyProp
a| [[CleanupPolicyProp]][[cleanup.policy]] <<kafka-common-TopicConfig.adoc#CLEANUP_POLICY_CONFIG, cleanup.policy>>

Default: `delete`

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-properties.adoc#log.cleanup.policy, log.cleanup.policy>>

Used when:

* `GroupCoordinator` is requested for the <<kafka-coordinator-group-GroupCoordinator.adoc#offsetsTopicConfigs, offsetsTopicConfigs>>

* `TransactionStateManager` is requested for the <<kafka-TransactionStateManager.adoc#transactionTopicConfigs, transactionTopicConfigs>>

* `LogConfig` is requested for the <<compact, compact>> and <<delete, delete>> flags

* `KafkaServer` utility is used to link:kafka-server-KafkaServer.adoc#copyKafkaConfigToLog[create a default log properties for LogManager and AdminManager]

| CompressionTypeProp
a| [[CompressionTypeProp]]

| DeleteRetentionMsProp
a| [[DeleteRetentionMsProp]]

| FileDeleteDelayMsProp
a| [[file.delete.delay.ms]][[FileDeleteDelayMsProp]][[fileDeleteDelayMs]] The time (in millis) to wait before deleting a file from the filesystem. Must be at least `0`

Property: `file.delete.delay.ms`

Default: `60000`

| flushMs
a| [[flushMs]][[FlushMsProp]] <<kafka-common-TopicConfig.adoc#FLUSH_MS_CONFIG, flush.ms>>

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-properties.adoc#log.flush.interval.ms, log.flush.interval.ms>>

| FlushMessagesProp
a| [[FlushMessagesProp]][[flushInterval]] <<kafka-common-TopicConfig.adoc#FLUSH_MESSAGES_INTERVAL_CONFIG, flush.messages>>

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-properties.adoc#log.flush.interval.messages, log.flush.interval.messages>>

| indexInterval
a| [[indexInterval]][[IndexIntervalBytesProp]] <<kafka-common-TopicConfig.adoc#INDEX_INTERVAL_BYTES_CONFIG, index.interval.bytes>>

| MaxMessageBytesProp
a| [[MaxMessageBytesProp]]

| MaxCompactionLagMsProp
a| [[MaxCompactionLagMsProp]]

| MessageDownConversionEnableProp
a| [[MessageDownConversionEnableProp]]

| MessageFormatVersionProp
a| [[MessageFormatVersionProp]]

| MessageTimestampDifferenceMaxMsProp
a| [[MessageTimestampDifferenceMaxMsProp]]

| MessageTimestampTypeProp
a| [[MessageTimestampTypeProp]]

| MinCleanableDirtyRatioProp
a| [[MinCleanableDirtyRatioProp]]

| MinCompactionLagMsProp
a| [[MinCompactionLagMsProp]]

| minInSyncReplicas
a| [[minInSyncReplicas]][[MinInSyncReplicasProp]] link:kafka-common-TopicConfig.adoc#MIN_IN_SYNC_REPLICAS_CONFIG[min.insync.replicas]

Cluster-wide property (`TopicConfigSynonyms`): link:kafka-properties.adoc#min.insync.replicas[min.insync.replicas]

Used when:

* `TransactionStateManager` is requested for link:kafka-TransactionStateManager.adoc#transactionTopicConfigs[transactionTopicConfigs]

* `KafkaServer` utility is used to link:kafka-server-KafkaServer.adoc#copyKafkaConfigToLog[create a default log properties for LogManager and AdminManager] (with the value of link:kafka-server-KafkaConfig.adoc#minInSyncReplicas[KafkaConfig.minInSyncReplicas])

* `Partition` is requested to link:kafka-cluster-Partition.adoc#isUnderMinIsr[isUnderMinIsr], link:kafka-cluster-Partition.adoc#isAtMinIsr[isAtMinIsr], link:kafka-cluster-Partition.adoc#checkEnoughReplicasReachOffset[checkEnoughReplicasReachOffset], link:kafka-cluster-Partition.adoc#appendRecordsToLeader[appendRecordsToLeader]

| PreAllocateEnableProp
a| [[PreAllocateEnableProp]]

| RetentionBytesProp
a| [[RetentionBytesProp]][[retentionSize]] Alias of link:kafka-common-TopicConfig.adoc#RETENTION_BYTES_CONFIG[TopicConfig.RETENTION_BYTES_CONFIG]

Used when:

* `KafkaServer` utility is requested for link:kafka-server-KafkaServer.adoc#copyKafkaConfigToLog[default configuration properties of logs]

* `Log` is requested to link:kafka-log-Log.adoc#deleteRetentionSizeBreachedSegments[deleteRetentionSizeBreachedSegments]

| RetentionMsProp
a| [[RetentionMsProp]][[retentionMs]] <<kafka-common-TopicConfig.adoc#RETENTION_MS_CONFIG, retention.ms>>

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-properties.adoc#log.retention.ms, log.retention.ms>>

Used exclusively when `Log` is requested to <<kafka-log-Log.adoc#deleteRetentionMsBreachedSegments, deleteRetentionMsBreachedSegments>>

| SegmentBytesProp
a| [[SegmentBytesProp]][[segmentSize]] <<kafka-common-TopicConfig.adoc#SEGMENT_BYTES_CONFIG, segment.bytes>>

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-properties.adoc#log.segment.bytes, log.segment.bytes>>

Used when:

* `GroupCoordinator` is requested for the <<kafka-coordinator-group-GroupCoordinator.adoc#offsetsTopicConfigs, offsetsTopicConfigs>>

* `TransactionStateManager` is requested for the <<kafka-TransactionStateManager.adoc#transactionTopicConfigs, transactionTopicConfigs>>

* `KafkaServer` utility is used to link:kafka-server-KafkaServer.adoc#copyKafkaConfigToLog[create a default log properties for LogManager and AdminManager]

The current value is available as `LogConfig.segmentSize` and used when:

* `RollParams` utility is requested to <<kafka-log-RollParams.adoc#apply, create a RollParams>>

* `Log` is requested for the <<kafka-log-Log.adoc#initFileSize, initFileSize>> and to <<kafka-log-Log.adoc#append, append records>>

* `Cleaner` is requested to <<kafka-log-Cleaner.adoc#doClean, clean a log>>

| SegmentIndexBytesProp
a| [[segment.index.bytes]][[maxIndexSize]][[SegmentIndexBytesProp]] <<kafka-common-TopicConfig.adoc#SEGMENT_INDEX_BYTES_CONFIG, segment.index.bytes>>

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-properties.adoc#log.index.size.max.bytes, log.index.size.max.bytes>>

| SegmentJitterMsProp
a| [[SegmentJitterMsProp]][[segmentJitterMs]] <<kafka-common-TopicConfig.adoc#SEGMENT_JITTER_MS_CONFIG, segment.jitter.ms>>

| SegmentMsProp
a| [[SegmentMsProp]][[segmentMs]] <<kafka-common-TopicConfig.adoc#SEGMENT_MS_CONFIG, segment.ms>>

Default: `604800000` (7 days)

Cluster-wide property (`TopicConfigSynonyms`): <<kafka-server-KafkaConfig.adoc#LogRollTimeMillisProp, log.roll.ms>>

Used when:

* `Log` is requested to <<kafka-log-Log.adoc#maybeRoll, maybeRoll>>

* `LogConfig` is requested for the <<randomSegmentJitter, randomSegmentJitter>> and <<maxSegmentMs, maxSegmentMs>>

* `KafkaServer` utility is used to link:kafka-server-KafkaServer.adoc#copyKafkaConfigToLog[create a default log properties for LogManager and AdminManager]

| UncleanLeaderElectionEnableProp
a| [[UncleanLeaderElectionEnableProp]]

|===

=== [[TopicConfigSynonyms]] TopicConfigSynonyms

`TopicConfigSynonyms` are the topic-level configuration properties (with highest priority) and their corresponding cluster-wide configuration properties.

.TopicConfigSynonyms
[cols="30,70",options="header",width="100%"]
|===
| Topic-Level Property Name
| Cluster-Wide Property Name

| link:kafka-common-TopicConfig.adoc#CLEANUP_POLICY_CONFIG[cleanup.policy]
| [[CleanupPolicyProp]] link:kafka-server-KafkaConfig.adoc#LogCleanupPolicyProp[log.cleanup.policy]

| link:kafka-common-TopicConfig.adoc#COMPRESSION_TYPE_CONFIG[compression.type]
| [[CompressionTypeProp]] link:kafka-server-KafkaConfig.adoc#CompressionTypeProp[compression.type]

| link:kafka-common-TopicConfig.adoc#DELETE_RETENTION_MS_CONFIG[delete.retention.ms]
| [[DeleteRetentionMsProp]] link:kafka-server-KafkaConfig.adoc#LogCleanerDeleteRetentionMsProp[log.cleaner.delete.retention.ms]

| link:kafka-common-TopicConfig.adoc#FILE_DELETE_DELAY_MS_CONFIG[file.delete.delay.ms]
| [[FileDeleteDelayMsProp]] link:kafka-server-KafkaConfig.adoc#LogDeleteDelayMsProp[log.segment.delete.delay.ms]

| link:kafka-common-TopicConfig.adoc#FLUSH_MESSAGES_INTERVAL_CONFIG[flush.messages]
| [[FlushMessagesProp]] link:kafka-server-KafkaConfig.adoc#LogFlushIntervalMessagesProp[log.flush.interval.messages]

| link:kafka-common-TopicConfig.adoc#FLUSH_MS_CONFIG[flush.ms]
| [[FlushMsProp]] link:kafka-server-KafkaConfig.adoc#LogFlushIntervalMsProp[log.flush.interval.ms]

| link:kafka-common-TopicConfig.adoc#INDEX_INTERVAL_BYTES_CONFIG[index.interval.bytes]
| [[IndexIntervalBytesProp]] link:kafka-server-KafkaConfig.adoc#LogIndexIntervalBytesProp[log.index.interval.bytes]

| link:kafka-common-TopicConfig.adoc#MAX_COMPACTION_LAG_MS_CONFIG[max.compaction.lag.ms]
| [[MaxCompactionLagMsProp]] link:kafka-server-KafkaConfig.adoc#LogCleanerMaxCompactionLagMsProp[log.cleaner.max.compaction.lag.ms]

| link:kafka-common-TopicConfig.adoc#MAX_MESSAGE_BYTES_CONFIG[max.message.bytes]
| [[MaxMessageBytesProp]] link:kafka-server-KafkaConfig.adoc#MessageMaxBytesProp[message.max.bytes]

| link:kafka-common-TopicConfig.adoc#MESSAGE_DOWNCONVERSION_ENABLE_CONFIG[message.downconversion.enable]
| [[MessageDownConversionEnableProp]] link:kafka-server-KafkaConfig.adoc#LogMessageDownConversionEnablePro[log.message.downconversion.enable]

| link:kafka-common-TopicConfig.adoc#MESSAGE_FORMAT_VERSION_CONFIG[message.format.version]
| [[MessageFormatVersionProp]] link:kafka-server-KafkaConfig.adoc#LogMessageFormatVersionProp[log.message.format.version]

| link:kafka-common-TopicConfig.adoc#MESSAGE_TIMESTAMP_DIFFERENCE_MAX_MS_CONFIG[message.timestamp.difference.max.ms]
| [[MessageTimestampDifferenceMaxMsProp]] link:kafka-server-KafkaConfig.adoc#LogMessageTimestampDifferenceMaxMsProp[log.message.timestamp.difference.max.ms]

| link:kafka-common-TopicConfig.adoc#MESSAGE_TIMESTAMP_TYPE_CONFIG[message.timestamp.type]
| [[MessageTimestampTypeProp]] link:kafka-server-KafkaConfig.adoc#LogMessageTimestampTypeProp[log.message.timestamp.type]

| link:kafka-common-TopicConfig.adoc#MIN_CLEANABLE_DIRTY_RATIO_CONFIG[min.cleanable.dirty.ratio]
| [[MinCleanableDirtyRatioProp]] link:kafka-server-KafkaConfig.adoc#LogCleanerMinCleanRatioProp[log.cleaner.min.cleanable.ratio]

| link:kafka-common-TopicConfig.adoc#MIN_COMPACTION_LAG_MS_CONFIG[min.compaction.lag.ms]
| [[MinCompactionLagMsProp]] link:kafka-server-KafkaConfig.adoc#LogCleanerMinCompactionLagMsProp[log.cleaner.min.compaction.lag.ms]

| link:kafka-common-TopicConfig.adoc#MIN_IN_SYNC_REPLICAS_CONFIG[min.insync.replicas]
| [[MinInSyncReplicasProp]] link:kafka-server-KafkaConfig.adoc#MinInSyncReplicasProp[min.insync.replicas]

| link:kafka-common-TopicConfig.adoc#PREALLOCATE_CONFIG[preallocate]
| [[PreAllocateEnableProp]] link:kafka-server-KafkaConfig.adoc#LogPreAllocateProp[log.preallocate]

| link:kafka-common-TopicConfig.adoc#RETENTION_BYTES_CONFIG[retention.bytes]
| [[RetentionBytesProp]] link:kafka-server-KafkaConfig.adoc#LogRetentionBytesProp[log.retention.bytes]

| link:kafka-common-TopicConfig.adoc#RETENTION_MS_CONFIG[retention.ms]
| [[RetentionMsProp]] link:kafka-server-KafkaConfig.adoc#LogRetentionTimeMillisProp[log.retention.ms]

| link:kafka-common-TopicConfig.adoc#SEGMENT_BYTES_CONFIG[segment.bytes]
| [[SegmentBytesProp]] link:kafka-server-KafkaConfig.adoc#LogSegmentBytesProp[log.segment.bytes]

| link:kafka-common-TopicConfig.adoc#SEGMENT_INDEX_BYTES_CONFIG[segment.index.bytes]
| [[SegmentIndexBytesProp]] link:kafka-server-KafkaConfig.adoc#LogIndexSizeMaxBytesProp[log.index.size.max.bytes]

| link:kafka-common-TopicConfig.adoc#SEGMENT_JITTER_MS_CONFIG[segment.jitter.ms]
| [[SegmentJitterMsProp]] link:kafka-server-KafkaConfig.adoc#LogRollTimeJitterMillisProp[log.roll.jitter.ms]

| link:kafka-common-TopicConfig.adoc#SEGMENT_MS_CONFIG[segment.ms]
| [[SegmentMsProp]] link:kafka-server-KafkaConfig.adoc#LogRollTimeMillisProp[log.roll.ms]

| link:kafka-common-TopicConfig.adoc#UNCLEAN_LEADER_ELECTION_ENABLE_CONFIG[unclean.leader.election.enable]
| [[UncleanLeaderElectionEnableProp]] link:kafka-server-KafkaConfig.adoc#UncleanLeaderElectionEnableProp[unclean.leader.election.enable]

|===

[NOTE]
====
`TopicConfigSynonyms` is used when:

* `AdminManager` is requested to link:kafka-server-AdminManager.adoc#describeConfigs[describe the configuration of a topic] and link:kafka-server-AdminManager.adoc#createTopics[create topics] (and link:kafka-server-AdminManager.adoc#createTopicConfigEntry[createTopicConfigEntry])

* `DynamicLogConfig` utility is requested for the link:kafka-server-DynamicLogConfig.adoc#ReconfigurableConfigs[ReconfigurableConfigs] and the link:kafka-server-DynamicLogConfig.adoc#KafkaConfigToLogConfigName[KafkaConfigToLogConfigName]
====

=== [[randomSegmentJitter]] `randomSegmentJitter` Method

[source, scala]
----
randomSegmentJitter: Long
----

`randomSegmentJitter` is one of the following values:

* `0` if <<segmentJitterMs, segment.jitter.ms>> is `0`

* Random int value modulo the minimum of <<segmentJitterMs, segment.jitter.ms>> and <<segmentMs, segment.ms>>

NOTE: `randomSegmentJitter` is used when `LogSegment` utility is used to <<kafka-log-LogSegment.adoc#open, open a log segment>> (for the <<kafka-log-LogSegment.adoc#rollJitterMs, rollJitterMs>> property).

=== [[maxSegmentMs]] `maxSegmentMs` Method

[source, scala]
----
maxSegmentMs: Long
----

`maxSegmentMs`...FIXME

NOTE: `maxSegmentMs` is used when `RollParams` utility is used to <<kafka-log-RollParams.adoc#apply, create a RollParams instance>>.

=== [[compact]] Checking Out Whether Compact Cleanup Policy Is Enabled -- `compact` Flag

[source, scala]
----
compact: Boolean
----

`compact`...FIXME

NOTE: `compact` is used when...FIXME

=== [[delete]] Checking Out Whether Delete Cleanup Policy Is Enabled -- `delete` Flag

[source, scala]
----
delete: Boolean
----

`delete` flag is enabled (`true`) when <<kafka-log-cleanup-policies.adoc#delete, delete>> cleanup policy is part of the <<kafka-log-cleanup-policies.adoc#cleanup.policy, cleanup.policy>> configuration property. Otherwise, `delete` flag is disabled (`false`).

[NOTE]
====
`delete` is used when:

* `Partition` is requested to <<kafka-cluster-Partition.adoc#deleteRecordsOnLeader, deleteRecordsOnLeader>>

* `Log` is requested to <<kafka-log-Log.adoc#deleteOldSegments, deleteOldSegments>>

* `LogCleanerManager` utility is requested for <<kafka-log-LogCleanerManager.adoc#isCompactAndDelete, isCompactAndDelete>>
====
